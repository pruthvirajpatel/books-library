(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{k0NY:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class u{}var o=t("pMnS"),s=t("SVse"),i=t("s7LF"),c=t("7o/Q"),r=t("quSY");class a extends r.a{constructor(n,l){super()}schedule(n,l=0){return this}}class h extends a{constructor(n,l){super(n,l),this.scheduler=n,this.work=l,this.pending=!1}schedule(n,l=0){if(this.closed)return this;this.state=n;const t=this.id,e=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(e,t,l)),this.pending=!0,this.delay=l,this.id=this.id||this.requestAsyncId(e,this.id,l),this}requestAsyncId(n,l,t=0){return setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,l,t=0){if(null!==t&&this.delay===t&&!1===this.pending)return l;clearInterval(l)}execute(n,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(n,l);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,l){let t=!1,e=void 0;try{this.work(n)}catch(u){t=!0,e=!!u&&u||new Error(u)}if(t)return this.unsubscribe(),e}_unsubscribe(){const n=this.id,l=this.scheduler,t=l.actions,e=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==e&&t.splice(e,1),null!=n&&(this.id=this.recycleAsyncId(l,n,null)),this.delay=null}}let b=(()=>{class n{constructor(l,t=n.now){this.SchedulerAction=l,this.now=t}schedule(n,l=0,t){return new this.SchedulerAction(this,n).schedule(t,l)}}return n.now=()=>Date.now(),n})();class d extends b{constructor(n,l=b.now){super(n,()=>d.delegate&&d.delegate!==this?d.delegate.now():l()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,l=0,t){return d.delegate&&d.delegate!==this?d.delegate.schedule(n,l,t):super.schedule(n,l,t)}flush(n){const{actions:l}=this;if(this.active)return void l.push(n);let t;this.active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=l.shift());if(this.active=!1,t){for(;n=l.shift();)n.unsubscribe();throw t}}}const p=new d(h);class g{constructor(n,l){this.dueTime=n,this.scheduler=l}call(n,l){return l.subscribe(new f(n,this.dueTime,this.scheduler))}}class f extends c.a{constructor(n,l,t){super(n),this.dueTime=l,this.scheduler=t,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(k,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function k(n){n.debouncedNext()}var x=t("/uUt"),C=t("XNiG");class y{constructor(){this.searchQueryUpdate=new C.a,this.search=new e.m}ngOnInit(){this.searchQueryUpdate.pipe(function(n,l=p){return t=>t.lift(new g(n,l))}(500),Object(x.a)()).subscribe(n=>{this.search.emit(n)})}}var M=e.nb({encapsulation:0,styles:[[".header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;justify-content:space-around;background:#6ad6ad;padding:10px 5px}.header[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{max-width:500px;width:100%}.header[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:5px 10px;border:5px;border-radius:5px;font-size:16px;width:100%}"]],data:{}});function O(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,7,"header",[["class","header"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,6,"div",[["class","input-container"]],null,null,null,null,null)),(n()(),e.pb(2,0,null,null,5,"input",[["class","search"],["placeholder","Search books by title or author"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var u=!0,o=n.component;return"input"===l&&(u=!1!==e.zb(n,3)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.zb(n,3).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.zb(n,3)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.zb(n,3)._compositionEnd(t.target.value)&&u),"ngModelChange"===l&&(u=!1!==(o.searchQuery=t)&&u),"ngModelChange"===l&&(u=!1!==o.searchQueryUpdate.next(t)&&u),u}),null,null)),e.ob(3,16384,null,0,i.c,[e.B,e.k,[2,i.a]],null,null),e.Cb(1024,null,i.h,(function(n){return[n]}),[i.c]),e.ob(5,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.h]],{model:[0,"model"]},{update:"ngModelChange"}),e.Cb(2048,null,i.i,null,[i.l]),e.ob(7,16384,null,0,i.j,[[4,i.i]],null,null)],(function(n,l){n(l,5,0,l.component.searchQuery)}),(function(n,l){n(l,2,0,e.zb(l,7).ngClassUntouched,e.zb(l,7).ngClassTouched,e.zb(l,7).ngClassPristine,e.zb(l,7).ngClassDirty,e.zb(l,7).ngClassValid,e.zb(l,7).ngClassInvalid,e.zb(l,7).ngClassPending)}))}var m=t("iInd"),_=t("mrSG"),w=t("5ozO"),v=t("K9il");let P=(()=>{class n{constructor(n){this.ngRedux=n}ngOnInit(){this.ngRedux.dispatch(Object(v.e)({}))}searchForABook(n){this.searchValue=n,this.ngRedux.dispatch(Object(v.e)({name:n}))}}return _.a([Object(w.d)("booksFound")],n.prototype,"books$",void 0),n})();var z=e.nb({encapsulation:0,styles:[[".books-list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-flow:wrap;-webkit-box-pack:start;justify-content:flex-start}.books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]{border:2px solid #e0e0e0;background:#fff;border-radius:5px;margin:5px;padding:5px 10px;max-width:275px;width:100%}.books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%], .books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:5px}.books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;color:#333}.books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{color:#666;font-size:18px}.books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:#888;font-size:16px}.books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#999;max-width:260px;overflow:hidden;text-overflow:ellipsis;white-space:pre}.books-list[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{color:#7a7a7a;font-weight:600;cursor:pointer;border:1px solid #7a7a7a;padding:5px 10px;border-radius:4px}.error[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.error[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px}.error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}"]],data:{}});function I(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,8,"div",[["class","book"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"h5",[["class","title"]],null,null,null,null,null)),(n()(),e.Eb(2,null,["",""])),(n()(),e.pb(3,0,null,null,1,"h5",[["class","author"]],null,null,null,null,null)),(n()(),e.Eb(4,null,["",""])),(n()(),e.pb(5,0,null,null,1,"h5",[["class","count"]],null,null,null,null,null)),(n()(),e.Eb(6,null,["Total - ",""])),(n()(),e.pb(7,0,null,null,1,"h5",[["class","description"]],null,null,null,null,null)),(n()(),e.Eb(8,null,["",""]))],null,(function(n,l){n(l,2,0,l.context.$implicit.name),n(l,4,0,l.context.$implicit.author),n(l,6,0,l.context.$implicit.count),n(l,8,0,l.context.$implicit.description)}))}function E(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.eb(16777216,null,null,2,null,I)),e.ob(2,278528,null,0,s.i,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),e.Bb(131072,s.b,[e.h]),(n()(),e.eb(0,null,null,0))],(function(n,l){var t=l.component;n(l,2,0,e.Fb(l,2,0,e.zb(l,3).transform(t.books$)))}),null)}function S(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,3,"h5",[],null,null,null,null,null)),(n()(),e.Eb(-1,null,[" Books not found for "])),(n()(),e.pb(2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Eb(3,null,["",""]))],null,(function(n,l){n(l,3,0,l.component.searchValue)}))}function V(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),e.Eb(-1,null,[" Search for books "]))],null,null)}function A(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,6,"div",[["class","error"]],null,null,null,null,null)),(n()(),e.Eb(1,null,[" "," "])),e.Bb(131072,s.b,[e.h]),(n()(),e.eb(16777216,null,null,1,null,S)),e.ob(4,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.eb(16777216,null,null,1,null,V)),e.ob(6,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,4,0,t.searchValue),n(l,6,0,!t.searchValue)}),(function(n,l){var t=l.component;n(l,1,0,e.Fb(l,1,0,e.zb(l,2).transform(t.books$)))}))}function j(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,1,"app-header",[],null,[[null,"search"]],(function(n,l,t){var e=!0;return"search"===l&&(e=!1!==n.component.searchForABook(t)&&e),e}),O,M)),e.ob(1,114688,null,0,y,[],null,{search:"search"}),(n()(),e.pb(2,0,null,null,4,"div",[["class","books-list"]],null,null,null,null,null)),(n()(),e.eb(16777216,null,null,2,null,E)),e.ob(4,16384,null,0,s.j,[e.M,e.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.Bb(131072,s.b,[e.h]),(n()(),e.eb(0,[["checkSearch",2]],null,0,null,A)),(n()(),e.pb(7,0,null,null,10,"div",[["class","actions"]],null,null,null,null,null)),(n()(),e.pb(8,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.zb(n,9).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u}),null,null)),e.ob(9,671744,null,0,m.l,[m.k,m.a,s.h],{routerLink:[0,"routerLink"]},null),e.Ab(10,1),(n()(),e.pb(11,0,null,null,1,"button",[["class","btn"]],null,null,null,null,null)),(n()(),e.Eb(-1,null,["Add a Book"])),(n()(),e.pb(13,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.zb(n,14).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u}),null,null)),e.ob(14,671744,null,0,m.l,[m.k,m.a,s.h],{routerLink:[0,"routerLink"]},null),e.Ab(15,1),(n()(),e.pb(16,0,null,null,1,"button",[["class","btn"]],null,null,null,null,null)),(n()(),e.Eb(-1,null,["View Books"]))],(function(n,l){var t,u=l.component;n(l,1,0),n(l,4,0,null==(t=e.Fb(l,4,0,e.zb(l,5).transform(u.books$)))?null:t.length,e.zb(l,6));var o=n(l,10,0,"/add");n(l,9,0,o);var s=n(l,15,0,"/books");n(l,14,0,s)}),(function(n,l){n(l,8,0,e.zb(l,9).target,e.zb(l,9).href),n(l,13,0,e.zb(l,14).target,e.zb(l,14).href)}))}function F(n){return e.Gb(0,[(n()(),e.pb(0,0,null,null,1,"app-search",[],null,null,null,j,z)),e.ob(1,114688,null,0,P,[w.b],null,null)],(function(n,l){n(l,1,0)}),null)}var G=e.lb("app-search",P,F,{},{},[]);class B{}t.d(l,"SearchModuleNgFactory",(function(){return $}));var $=e.mb(u,[],(function(n){return e.xb([e.yb(512,e.j,e.X,[[8,[o.a,G]],[3,e.j],e.v]),e.yb(4608,s.l,s.k,[e.s,[2,s.r]]),e.yb(4608,i.q,i.q,[]),e.yb(1073742336,s.c,s.c,[]),e.yb(1073742336,i.p,i.p,[]),e.yb(1073742336,i.g,i.g,[]),e.yb(1073742336,m.m,m.m,[[2,m.r],[2,m.k]]),e.yb(1073742336,B,B,[]),e.yb(1073742336,u,u,[]),e.yb(1024,m.i,(function(){return[[{path:"",component:P}]]}),[])])}))}}]);